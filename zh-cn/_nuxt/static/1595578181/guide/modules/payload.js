__NUXT_JSONP__("/guide/modules", {data:[{},{path:"\u002Fzh\u002Fguide\u002Fmodules",section:"guide",page:{attrs:{title:"模块",description:"模块是Nuxt.js扩展，可以扩展其核心功能并添加无限的集成。"},body:"\u003Cblockquote\u003E\n\u003Cp\u003E模块是Nuxt.js扩展，可以扩展其核心功能并添加无限的集成。\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003Ch2 id=\"介绍\"\u003E\u003Ca class=\"anchor\" aria-hidden=\"true\" href=\"#介绍\"\u003E\u003Csvg version=\"1.1\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" class=\"octicon octicon-link\" aria-hidden=\"true\"\u003E\u003Cpath fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\u002F\u003E\u003C\u002Fsvg\u003E\u003C\u002Fa\u003E介绍\u003C\u002Fh2\u003E\u003Cp\u003E在使用Nuxt开发应用程序时，您很快就会发现框架的核心功能还不够。 Nuxt可以使用配置选项和插件进行扩展，但是在多个项目中维护这些自定义是繁琐、重复和耗时的。 另一方面，开箱即用支持每个项目的需求将使Nuxt非常复杂且难以使用。\u003C\u002Fp\u003E\n\u003Cp\u003E这就是Nuxt提供更高阶\u003Cstrong\u003E模块系统\u003C\u002Fstrong\u003E的原因，可以轻松扩展核心。 模块只是在引导Nuxt时按顺序调用的\u003Cstrong\u003E函数\u003C\u002Fstrong\u003E。 框架在加载之前等待每个模块完成。 如此，模块几乎可以自定义Nuxt的任何地方。 我们可以使用功能强大的 \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fnuxt-contrib\u002Fhookable\"\u003EHookable\u003C\u002Fa\u003E Nuxt.js系统来完成特定事件的任务。\u003C\u002Fp\u003E\n\u003Cp\u003E最重要的是, Nuxt模块可以合并到npm包中。 这使得它们易于跨项目开发重用并与Nuxt社区共享, 我们可以创建一个高质量的Nuxt附加组件生态系统。\u003C\u002Fp\u003E\n\u003Cp\u003E如果你：\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003E是\u003Cstrong\u003E优秀团队\u003C\u002Fstrong\u003E的成员，需要快速引导新项目。\u003C\u002Fli\u003E\n\u003Cli\u003E厌倦了为集成Google Analytics等常见任务重新造轮子。\u003C\u002Fli\u003E\n\u003Cli\u003E是一个优秀的\u003Cstrong\u003E开源\u003C\u002Fstrong\u003E爱好者，希望轻松与社区分享您的工作。\u003C\u002Fli\u003E\n\u003Cli\u003E是一家重视\u003Cstrong\u003E质量\u003C\u002Fstrong\u003E和\u003Cstrong\u003E可重用性\u003C\u002Fstrong\u003E的\u003Cstrong\u003E企业\u003C\u002Fstrong\u003E公司的成员。\u003C\u002Fli\u003E\n\u003Cli\u003E通常是在短期限内完成，没有时间深入了解每个新库或集成的细节。\u003C\u002Fli\u003E\n\u003Cli\u003E厌倦了处理对低级接口的重大改变，并且需要能够正常工作的东西。\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch2 id=\"nuxt-js-模块列表\"\u003E\u003Ca class=\"anchor\" aria-hidden=\"true\" href=\"#nuxt-js-模块列表\"\u003E\u003Csvg version=\"1.1\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" class=\"octicon octicon-link\" aria-hidden=\"true\"\u003E\u003Cpath fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\u002F\u003E\u003C\u002Fsvg\u003E\u003C\u002Fa\u003ENuxt.js 模块列表\u003C\u002Fh2\u003E\u003Cp\u003ENuxt.js 团队提供 \u003Cstrong\u003E官方\u003C\u002Fstrong\u003E 模块:\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003E\u003Ca href=\"https:\u002F\u002Fhttp.nuxtjs.org\"\u003E@nuxt\u002Fhttp\u003C\u002Fa\u003E: 基于\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fsindresorhus\u002Fky-universal\"\u003Eky-universal\u003C\u002Fa\u003E的轻量级和通用的HTTP请求\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"https:\u002F\u002Faxios.nuxtjs.org\"\u003E@nuxtjs\u002Faxios\u003C\u002Fa\u003E: 安全和使用简单Axios与Nuxt.js集成用来请求HTTP\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"https:\u002F\u002Fpwa.nuxtjs.org\"\u003E@nuxtjs\u002Fpwa\u003C\u002Fa\u003E: 使用经过严格测试，更新且稳定的PWA解决方案来增强Nuxt\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"https:\u002F\u002Fauth.nuxtjs.org\"\u003E@nuxtjs\u002Fauth\u003C\u002Fa\u003E: Nuxt.js的身份验证模块，提供不同的方案和验证策略\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003ENuxt.js社区制作的模块列表可在 \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Ftopics\u002Fnuxt-module\"\u003Ehttps:\u002F\u002Fgithub.com\u002Ftopics\u002Fnuxt-module\u003C\u002Fa\u003E 中查询\u003C\u002Fp\u003E\n\u003Ch2 id=\"基本模块\"\u003E\u003Ca class=\"anchor\" aria-hidden=\"true\" href=\"#基本模块\"\u003E\u003Csvg version=\"1.1\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" class=\"octicon octicon-link\" aria-hidden=\"true\"\u003E\u003Cpath fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\u002F\u003E\u003C\u002Fsvg\u003E\u003C\u002Fa\u003E基本模块\u003C\u002Fh2\u003E\u003Cp\u003E如上所述，模块只是简单的功能。它们可以打包为\u003Ccode\u003Enpm\u003C\u002Fcode\u003E模块或直接包含在项目源代码中。\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cstrong\u003Emodules\u002Fsimple.js\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"hljs js\"\u003E\u003Cspan class=\"hljs-keyword\"\u003Eexport\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-keyword\"\u003Edefault\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-function\"\u003E\u003Cspan class=\"hljs-keyword\"\u003Efunction\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-title\"\u003ESimpleModule\u003C\u002Fspan\u003E (\u003Cspan class=\"hljs-params\"\u003EmoduleOptions\u003C\u002Fspan\u003E) \u003C\u002Fspan\u003E{\n  \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F Write your code here\u003C\u002Fspan\u003E\n}\n\n\u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F REQUIRED if publishing as an npm package\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F module.exports.meta = require(&#x27;.\u002Fpackage.json&#x27;)\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003E\u003Cstrong\u003E\u003Ccode\u003EmoduleOptions\u003C\u002Fcode\u003E\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E这是用户使用\u003Ccode\u003Emodules\u003C\u002Fcode\u003E数组传递对象，我们可以使用它来定制它的行为。\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cstrong\u003E\u003Ccode\u003Ethis.options\u003C\u002Fcode\u003E\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E您可以使用此属性直接访问Nuxt选项。这是\u003Ccode\u003Enuxt.config.js\u003C\u002Fcode\u003E，其中包含所有默认选项，可用于模块之间的共享选项。\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cstrong\u003E\u003Ccode\u003Ethis.nuxt\u003C\u002Fcode\u003E\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E这是对当前Nuxt实例的引用。 请参考 \u003Ca href=\"\u002Fapi\u002Finternals-nuxt\"\u003ENuxt class docs for available methods\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cstrong\u003E\u003Ccode\u003Ethis\u003C\u002Fcode\u003E\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\n\u003Cp\u003Emodules中的context, 请参考 \u003Ca href=\"\u002Fapi\u002Finternals-module-container\"\u003EModuleContainer\u003C\u002Fa\u003E 来查看可用的方法。\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cstrong\u003E\u003Ccode\u003Emodule.exports.meta\u003C\u002Fcode\u003E\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E如果要将模块发布为npm包，则\u003Cstrong\u003E需要\u003C\u002Fstrong\u003E配置此选项。Nuxt内部使用\u003Ccode\u003Emeta\u003C\u002Fcode\u003E来更好地处理您的包。\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cstrong\u003Enuxt.config.js\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"hljs js\"\u003E\u003Cspan class=\"hljs-keyword\"\u003Eexport\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-keyword\"\u003Edefault\u003C\u002Fspan\u003E {\n  \u003Cspan class=\"hljs-attr\"\u003Emodules\u003C\u002Fspan\u003E: [\n    \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F Simple usage\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-string\"\u003E&#x27;~\u002Fmodules\u002Fsimple&#x27;\u003C\u002Fspan\u003E\n\n    \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F Passing options\u003C\u002Fspan\u003E\n      [\u003Cspan class=\"hljs-string\"\u003E&#x27;~\u002Fmodules\u002Fsimple&#x27;\u003C\u002Fspan\u003E, { \u003Cspan class=\"hljs-attr\"\u003Etoken\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&#x27;123&#x27;\u003C\u002Fspan\u003E }]\n  ]\n}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003E然后，我们告诉Nuxt为项目加载一些特定模块，并将可选参数作为选项。 请参考 \u003Ca href=\"\u002Fapi\u002Fconfiguration-modules\"\u003E模块配置\u003C\u002Fa\u003E 文档来查看更多!\u003C\u002Fp\u003E\n\u003Ch2 id=\"异步模块\"\u003E\u003Ca class=\"anchor\" aria-hidden=\"true\" href=\"#异步模块\"\u003E\u003Csvg version=\"1.1\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" class=\"octicon octicon-link\" aria-hidden=\"true\"\u003E\u003Cpath fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\u002F\u003E\u003C\u002Fsvg\u003E\u003C\u002Fa\u003E异步模块\u003C\u002Fh2\u003E\u003Cp\u003E并非所有模块都会同步完成所有操作，例如：您可能希望开发一个需要获取某些API或执行异步IO的模块。为此，Nuxt支持在异步模块中返回Promise或调用回调。\u003C\u002Fp\u003E\n\u003Ch3 id=\"使用-async-await\"\u003E\u003Ca class=\"anchor\" aria-hidden=\"true\" href=\"#使用-async-await\"\u003E\u003Csvg version=\"1.1\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" class=\"octicon octicon-link\" aria-hidden=\"true\"\u003E\u003Cpath fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\u002F\u003E\u003C\u002Fsvg\u003E\u003C\u002Fa\u003E使用 async\u002Fawait\u003C\u002Fh3\u003E\u003Cdiv class=\"Alert Alert--orange\"\u003E\n\n\u003Cp\u003E请注意，仅在Node.js &gt; 7.2中支持使用\u003Ccode\u003Easync\u003C\u002Fcode\u003E \u002F \u003Ccode\u003Eawait\u003C\u002Fcode\u003E。 因此，如果您是模块开发人员，至少要警告用户使用它们时Node.js版本不能低于7.2。 对于大量异步模块或更好的传统支持，您可以使用bundler将其转换为兼容较旧的Node.js版本或Promise方法。\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\n\u003Cpre\u003E\u003Ccode class=\"hljs js\"\u003E\u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E fse \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E&#x27;fs-extra&#x27;\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"hljs-keyword\"\u003Eexport\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-keyword\"\u003Edefault\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-keyword\"\u003Easync\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-function\"\u003E\u003Cspan class=\"hljs-keyword\"\u003Efunction\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-title\"\u003EasyncModule\u003C\u002Fspan\u003E (\u003Cspan class=\"hljs-params\"\u003E\u003C\u002Fspan\u003E) \u003C\u002Fspan\u003E{\n  \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F You can do async works here using `async`\u002F`await`\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E pages = \u003Cspan class=\"hljs-keyword\"\u003Eawait\u003C\u002Fspan\u003E fse.readJson(\u003Cspan class=\"hljs-string\"\u003E&#x27;.\u002Fpages.json&#x27;\u003C\u002Fspan\u003E)\n}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Ch3 id=\"返回-promise\"\u003E\u003Ca class=\"anchor\" aria-hidden=\"true\" href=\"#返回-promise\"\u003E\u003Csvg version=\"1.1\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" class=\"octicon octicon-link\" aria-hidden=\"true\"\u003E\u003Cpath fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\u002F\u003E\u003C\u002Fsvg\u003E\u003C\u002Fa\u003E返回 Promise\u003C\u002Fh3\u003E\u003Cpre\u003E\u003Ccode class=\"hljs js\"\u003E\u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E axios \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E&#x27;axios&#x27;\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"hljs-keyword\"\u003Eexport\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-keyword\"\u003Edefault\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-function\"\u003E\u003Cspan class=\"hljs-keyword\"\u003Efunction\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-title\"\u003EasyncModule\u003C\u002Fspan\u003E (\u003Cspan class=\"hljs-params\"\u003E\u003C\u002Fspan\u003E) \u003C\u002Fspan\u003E{\n  \u003Cspan class=\"hljs-keyword\"\u003Ereturn\u003C\u002Fspan\u003E axios.get(\u003Cspan class=\"hljs-string\"\u003E&#x27;https:\u002F\u002Fjsonplaceholder.typicode.com\u002Fusers&#x27;\u003C\u002Fspan\u003E)\n    .then(\u003Cspan class=\"hljs-function\"\u003E\u003Cspan class=\"hljs-params\"\u003Eres\u003C\u002Fspan\u003E =&gt;\u003C\u002Fspan\u003E res.data.map(\u003Cspan class=\"hljs-function\"\u003E\u003Cspan class=\"hljs-params\"\u003Euser\u003C\u002Fspan\u003E =&gt;\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E&#x27;\u002Fusers\u002F&#x27;\u003C\u002Fspan\u003E + user.username))\n    .then(\u003Cspan class=\"hljs-function\"\u003E(\u003Cspan class=\"hljs-params\"\u003Eroutes\u003C\u002Fspan\u003E) =&gt;\u003C\u002Fspan\u003E {\n      \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F Do something by extending Nuxt routes\u003C\u002Fspan\u003E\n    })\n}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Ch3 id=\"使用回调\"\u003E\u003Ca class=\"anchor\" aria-hidden=\"true\" href=\"#使用回调\"\u003E\u003Csvg version=\"1.1\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" class=\"octicon octicon-link\" aria-hidden=\"true\"\u003E\u003Cpath fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\u002F\u003E\u003C\u002Fsvg\u003E\u003C\u002Fa\u003E使用回调\u003C\u002Fh3\u003E\u003Cpre\u003E\u003Ccode class=\"hljs js\"\u003E\u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E axios \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E&#x27;axios&#x27;\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"hljs-keyword\"\u003Eexport\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-keyword\"\u003Edefault\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-function\"\u003E\u003Cspan class=\"hljs-keyword\"\u003Efunction\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-title\"\u003EasyncModule\u003C\u002Fspan\u003E (\u003Cspan class=\"hljs-params\"\u003Ecallback\u003C\u002Fspan\u003E) \u003C\u002Fspan\u003E{\n  axios.get(\u003Cspan class=\"hljs-string\"\u003E&#x27;https:\u002F\u002Fjsonplaceholder.typicode.com\u002Fusers&#x27;\u003C\u002Fspan\u003E)\n    .then(\u003Cspan class=\"hljs-function\"\u003E\u003Cspan class=\"hljs-params\"\u003Eres\u003C\u002Fspan\u003E =&gt;\u003C\u002Fspan\u003E res.data.map(\u003Cspan class=\"hljs-function\"\u003E\u003Cspan class=\"hljs-params\"\u003Euser\u003C\u002Fspan\u003E =&gt;\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E&#x27;\u002Fusers\u002F&#x27;\u003C\u002Fspan\u003E + user.username))\n    .then(\u003Cspan class=\"hljs-function\"\u003E(\u003Cspan class=\"hljs-params\"\u003Eroutes\u003C\u002Fspan\u003E) =&gt;\u003C\u002Fspan\u003E {\n      callback()\n    })\n}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Ch2 id=\"常见模块\"\u003E\u003Ca class=\"anchor\" aria-hidden=\"true\" href=\"#常见模块\"\u003E\u003Csvg version=\"1.1\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" class=\"octicon octicon-link\" aria-hidden=\"true\"\u003E\u003Cpath fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\u002F\u003E\u003C\u002Fsvg\u003E\u003C\u002Fa\u003E常见模块\u003C\u002Fh2\u003E\u003Ch3 id=\"优先级最高选项\"\u003E\u003Ca class=\"anchor\" aria-hidden=\"true\" href=\"#优先级最高选项\"\u003E\u003Csvg version=\"1.1\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" class=\"octicon octicon-link\" aria-hidden=\"true\"\u003E\u003Cpath fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\u002F\u003E\u003C\u002Fsvg\u003E\u003C\u002Fa\u003E优先级最高选项\u003C\u002Fh3\u003E\u003Cp\u003E有时在\u003Ccode\u003Enuxt.config.js\u003C\u002Fcode\u003E中注册模块时可以使用顶级选项更方便，这允许我们组合多个选项源。\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cstrong\u003Enuxt.config.js\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"hljs js\"\u003E\u003Cspan class=\"hljs-keyword\"\u003Eexport\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-keyword\"\u003Edefault\u003C\u002Fspan\u003E {\n  \u003Cspan class=\"hljs-attr\"\u003Emodules\u003C\u002Fspan\u003E: [\n    [\u003Cspan class=\"hljs-string\"\u003E&#x27;@nuxtjs\u002Faxios&#x27;\u003C\u002Fspan\u003E, { \u003Cspan class=\"hljs-attr\"\u003EanotherOption\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-literal\"\u003Etrue\u003C\u002Fspan\u003E }]\n  ],\n\n  \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F axios module is aware of this by using `this.options.axios`\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-attr\"\u003Eaxios\u003C\u002Fspan\u003E: {\n    option1,\n    option2\n  }\n}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003E\u003Cstrong\u003Emodule.js\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"hljs js\"\u003E\u003Cspan class=\"hljs-keyword\"\u003Eexport\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-keyword\"\u003Edefault\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-function\"\u003E\u003Cspan class=\"hljs-keyword\"\u003Efunction\u003C\u002Fspan\u003E (\u003Cspan class=\"hljs-params\"\u003EmoduleOptions\u003C\u002Fspan\u003E) \u003C\u002Fspan\u003E{\n  \u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E options = \u003Cspan class=\"hljs-built_in\"\u003EObject\u003C\u002Fspan\u003E.assign({}, \u003Cspan class=\"hljs-built_in\"\u003Ethis\u003C\u002Fspan\u003E.options.axios, moduleOptions)\n  \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F ...\u003C\u002Fspan\u003E\n}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Ch3 id=\"提供插件\"\u003E\u003Ca class=\"anchor\" aria-hidden=\"true\" href=\"#提供插件\"\u003E\u003Csvg version=\"1.1\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" class=\"octicon octicon-link\" aria-hidden=\"true\"\u003E\u003Cpath fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\u002F\u003E\u003C\u002Fsvg\u003E\u003C\u002Fa\u003E提供插件\u003C\u002Fh3\u003E\u003Cp\u003E通常，模块在添加时需提供一个或多个插件。 例如：\u003Ca href=\"https:\u002F\u002Fbootstrap-vue.js.org\"\u003Ebootstrap-vue\u003C\u002Fa\u003E 模块需要将自己注册到\u003Ccode\u003EVue\u003C\u002Fcode\u003E中。 为此我们可以使用 \u003Ccode\u003Ethis.addPlugin\u003C\u002Fcode\u003E 方法。\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cstrong\u003Eplugin.js\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"hljs js\"\u003E\u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E Vue \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E&#x27;vue&#x27;\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E BootstrapVue \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E&#x27;bootstrap-vue\u002Fdist\u002Fbootstrap-vue.esm&#x27;\u003C\u002Fspan\u003E\n\nVue.use(BootstrapVue)\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003E\u003Cstrong\u003Emodule.js\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"hljs js\"\u003E\u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E path \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E&#x27;path&#x27;\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"hljs-keyword\"\u003Eexport\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-keyword\"\u003Edefault\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-function\"\u003E\u003Cspan class=\"hljs-keyword\"\u003Efunction\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-title\"\u003EnuxtBootstrapVue\u003C\u002Fspan\u003E (\u003Cspan class=\"hljs-params\"\u003EmoduleOptions\u003C\u002Fspan\u003E) \u003C\u002Fspan\u003E{\n  \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F Register `plugin.js` template\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-built_in\"\u003Ethis\u003C\u002Fspan\u003E.addPlugin(path.resolve(__dirname, \u003Cspan class=\"hljs-string\"\u003E&#x27;plugin.js&#x27;\u003C\u002Fspan\u003E))\n}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Ch3 id=\"模板插件\"\u003E\u003Ca class=\"anchor\" aria-hidden=\"true\" href=\"#模板插件\"\u003E\u003Csvg version=\"1.1\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" class=\"octicon octicon-link\" aria-hidden=\"true\"\u003E\u003Cpath fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\u002F\u003E\u003C\u002Fsvg\u003E\u003C\u002Fa\u003E模板插件\u003C\u002Fh3\u003E\u003Cp\u003E已注册的模板和插件可以利用\u003Ca href=\"https:\u002F\u002Flodash.com\u002Fdocs\u002F4.17.4#template\"\u003Elodash templates\u003C\u002Fa\u003E模板有条件地更改已注册插件的输出。\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cstrong\u003Eplugin.js\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"hljs js\"\u003E\u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F Set Google Analytics UA\u003C\u002Fspan\u003E\nga(\u003Cspan class=\"hljs-string\"\u003E&#x27;create&#x27;\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-string\"\u003E&#x27;&lt;%= options.ua %&gt;&#x27;\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-string\"\u003E&#x27;auto&#x27;\u003C\u002Fspan\u003E)\n\n&lt;% \u003Cspan class=\"hljs-keyword\"\u003Eif\u003C\u002Fspan\u003E (options.debug) { %&gt;\n\u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F Dev only code\u003C\u002Fspan\u003E\n&lt;% } %&gt;\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003E\u003Cstrong\u003Emodule.js\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"hljs js\"\u003E\u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E path \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E&#x27;path&#x27;\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"hljs-keyword\"\u003Eexport\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-keyword\"\u003Edefault\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-function\"\u003E\u003Cspan class=\"hljs-keyword\"\u003Efunction\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-title\"\u003EnuxtBootstrapVue\u003C\u002Fspan\u003E (\u003Cspan class=\"hljs-params\"\u003EmoduleOptions\u003C\u002Fspan\u003E) \u003C\u002Fspan\u003E{\n  \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F Register `plugin.js` template\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-built_in\"\u003Ethis\u003C\u002Fspan\u003E.addPlugin({\n    \u003Cspan class=\"hljs-attr\"\u003Esrc\u003C\u002Fspan\u003E: path.resolve(__dirname, \u003Cspan class=\"hljs-string\"\u003E&#x27;plugin.js&#x27;\u003C\u002Fspan\u003E),\n    \u003Cspan class=\"hljs-attr\"\u003Eoptions\u003C\u002Fspan\u003E: {\n      \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F Nuxt will replace `options.ua` with `123` when copying plugin to project\u003C\u002Fspan\u003E\n      \u003Cspan class=\"hljs-attr\"\u003Eua\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E123\u003C\u002Fspan\u003E,\n\n      \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F conditional parts with dev will be stripped from plugin code on production builds\u003C\u002Fspan\u003E\n      \u003Cspan class=\"hljs-attr\"\u003Edebug\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-built_in\"\u003Ethis\u003C\u002Fspan\u003E.options.dev\n    }\n  })\n}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Ch3 id=\"添加css库\"\u003E\u003Ca class=\"anchor\" aria-hidden=\"true\" href=\"#添加css库\"\u003E\u003Csvg version=\"1.1\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" class=\"octicon octicon-link\" aria-hidden=\"true\"\u003E\u003Cpath fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\u002F\u003E\u003C\u002Fsvg\u003E\u003C\u002Fa\u003E添加CSS库\u003C\u002Fh3\u003E\u003Cp\u003E考虑是否存在CSS库以避免重复，并添加\u003Cstrong\u003E一个选项\u003C\u002Fstrong\u003E来禁用模块中的CSS库。请参见下面的示例。\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cstrong\u003Emodule.js\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"hljs js\"\u003E\u003Cspan class=\"hljs-keyword\"\u003Eexport\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-keyword\"\u003Edefault\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-function\"\u003E\u003Cspan class=\"hljs-keyword\"\u003Efunction\u003C\u002Fspan\u003E (\u003Cspan class=\"hljs-params\"\u003EmoduleOptions\u003C\u002Fspan\u003E) \u003C\u002Fspan\u003E{\n  \u003Cspan class=\"hljs-keyword\"\u003Eif\u003C\u002Fspan\u003E (moduleOptions.fontAwesome !== \u003Cspan class=\"hljs-literal\"\u003Efalse\u003C\u002Fspan\u003E) {\n    \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F Add Font Awesome\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-built_in\"\u003Ethis\u003C\u002Fspan\u003E.options.css.push(\u003Cspan class=\"hljs-string\"\u003E&#x27;font-awesome\u002Fcss\u002Ffont-awesome.css&#x27;\u003C\u002Fspan\u003E)\n  }\n}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Ch3 id=\"emit-assets\"\u003E\u003Ca class=\"anchor\" aria-hidden=\"true\" href=\"#emit-assets\"\u003E\u003Csvg version=\"1.1\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" class=\"octicon octicon-link\" aria-hidden=\"true\"\u003E\u003Cpath fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\u002F\u003E\u003C\u002Fsvg\u003E\u003C\u002Fa\u003EEmit assets\u003C\u002Fh3\u003E\u003Cp\u003E我们可以注册webpack插件用来在构建期间发出资源。\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cstrong\u003Emodule.js\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"hljs js\"\u003E\u003Cspan class=\"hljs-keyword\"\u003Eexport\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-keyword\"\u003Edefault\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-function\"\u003E\u003Cspan class=\"hljs-keyword\"\u003Efunction\u003C\u002Fspan\u003E (\u003Cspan class=\"hljs-params\"\u003EmoduleOptions\u003C\u002Fspan\u003E) \u003C\u002Fspan\u003E{\n  \u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E info = \u003Cspan class=\"hljs-string\"\u003E&#x27;Built by awesome module - 1.3 alpha on &#x27;\u003C\u002Fspan\u003E + \u003Cspan class=\"hljs-built_in\"\u003EDate\u003C\u002Fspan\u003E.now()\n\n  \u003Cspan class=\"hljs-built_in\"\u003Ethis\u003C\u002Fspan\u003E.options.build.plugins.push({\n    apply (compiler) {\n      compiler.plugin(\u003Cspan class=\"hljs-string\"\u003E&#x27;emit&#x27;\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-function\"\u003E(\u003Cspan class=\"hljs-params\"\u003Ecompilation, cb\u003C\u002Fspan\u003E) =&gt;\u003C\u002Fspan\u003E {\n        \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F This will generate `.nuxt\u002Fdist\u002Finfo.txt&#x27; with contents of info variable.\u003C\u002Fspan\u003E\n        \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F Source can be buffer too\u003C\u002Fspan\u003E\n        compilation.assets[\u003Cspan class=\"hljs-string\"\u003E&#x27;info.txt&#x27;\u003C\u002Fspan\u003E] = { \u003Cspan class=\"hljs-attr\"\u003Esource\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-function\"\u003E() =&gt;\u003C\u002Fspan\u003E info, \u003Cspan class=\"hljs-attr\"\u003Esize\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-function\"\u003E() =&gt;\u003C\u002Fspan\u003E info.length }\n\n        cb()\n      })\n    }\n  })\n}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Ch3 id=\"注册自定义-loaders\"\u003E\u003Ca class=\"anchor\" aria-hidden=\"true\" href=\"#注册自定义-loaders\"\u003E\u003Csvg version=\"1.1\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" class=\"octicon octicon-link\" aria-hidden=\"true\"\u003E\u003Cpath fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\u002F\u003E\u003C\u002Fsvg\u003E\u003C\u002Fa\u003E注册自定义 loaders\u003C\u002Fh3\u003E\u003Cp\u003E我们可以使用\u003Ccode\u003Ethis.extendBuild\u003C\u002Fcode\u003E在\u003Ccode\u003Enuxt.config.js\u003C\u002Fcode\u003E中执行与\u003Ccode\u003Ebuild.extend\u003C\u002Fcode\u003E相同的操作。\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cstrong\u003Emodule.js\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"hljs js\"\u003E\u003Cspan class=\"hljs-keyword\"\u003Eexport\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-keyword\"\u003Edefault\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-function\"\u003E\u003Cspan class=\"hljs-keyword\"\u003Efunction\u003C\u002Fspan\u003E (\u003Cspan class=\"hljs-params\"\u003EmoduleOptions\u003C\u002Fspan\u003E) \u003C\u002Fspan\u003E{\n    \u003Cspan class=\"hljs-built_in\"\u003Ethis\u003C\u002Fspan\u003E.extendBuild(\u003Cspan class=\"hljs-function\"\u003E(\u003Cspan class=\"hljs-params\"\u003Econfig, { isClient, isServer }\u003C\u002Fspan\u003E) =&gt;\u003C\u002Fspan\u003E {\n      \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F `.foo` Loader\u003C\u002Fspan\u003E\n      config.module.rules.push({\n        \u003Cspan class=\"hljs-attr\"\u003Etest\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-regexp\"\u003E\u002F\\.foo$\u002F\u003C\u002Fspan\u003E,\n        use: [...]\n      })\n\n      \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F Customize existing loaders\u003C\u002Fspan\u003E\n      \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F Refer to source code for Nuxt internals:\u003C\u002Fspan\u003E\n      \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F https:\u002F\u002Fgithub.com\u002Fnuxt\u002Fnuxt.js\u002Fblob\u002Fdev\u002Fpackages\u002Fwebpack\u002Fsrc\u002Fconfig\u002Fbase.js\u003C\u002Fspan\u003E\n      \u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E barLoader = config.module.rules.find(\u003Cspan class=\"hljs-function\"\u003E\u003Cspan class=\"hljs-params\"\u003Erule\u003C\u002Fspan\u003E =&gt;\u003C\u002Fspan\u003E rule.loader === \u003Cspan class=\"hljs-string\"\u003E&#x27;bar-loader&#x27;\u003C\u002Fspan\u003E)\n  })\n}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Ch2 id=\"在指定钩子上运行任务\"\u003E\u003Ca class=\"anchor\" aria-hidden=\"true\" href=\"#在指定钩子上运行任务\"\u003E\u003Csvg version=\"1.1\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" class=\"octicon octicon-link\" aria-hidden=\"true\"\u003E\u003Cpath fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\u002F\u003E\u003C\u002Fsvg\u003E\u003C\u002Fa\u003E在指定钩子上运行任务\u003C\u002Fh2\u003E\u003Cp\u003E您的模块可能只需要在特定条件下执行操作，而不仅仅是在Nuxt初始化期间。我们可以使用强大的\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fwebpack\u002Ftapable\"\u003ETapable\u003C\u002Fa\u003E插件来执行特定事件的任务。Nuxt将等待钩子返回\u003Ccode\u003EPromise\u003C\u002Fcode\u003E或被定义为\u003Ccode\u003Easync\u003C\u002Fcode\u003E(异步)。\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"hljs js\"\u003E\u003Cspan class=\"hljs-keyword\"\u003Eexport\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-keyword\"\u003Edefault\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-function\"\u003E\u003Cspan class=\"hljs-keyword\"\u003Efunction\u003C\u002Fspan\u003E (\u003Cspan class=\"hljs-params\"\u003E\u003C\u002Fspan\u003E) \u003C\u002Fspan\u003E{\n  \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F Add hook for modules\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-built_in\"\u003Ethis\u003C\u002Fspan\u003E.nuxt.hook(\u003Cspan class=\"hljs-string\"\u003E&#x27;module&#x27;\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-function\"\u003E(\u003Cspan class=\"hljs-params\"\u003EmoduleContainer\u003C\u002Fspan\u003E) =&gt;\u003C\u002Fspan\u003E {\n    \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F This will be called when all modules finished loading\u003C\u002Fspan\u003E\n  })\n\n  \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F Add hook for renderer\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-built_in\"\u003Ethis\u003C\u002Fspan\u003E.nuxt.hook(\u003Cspan class=\"hljs-string\"\u003E&#x27;renderer&#x27;\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-function\"\u003E(\u003Cspan class=\"hljs-params\"\u003Erenderer\u003C\u002Fspan\u003E) =&gt;\u003C\u002Fspan\u003E {\n    \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F This will be called when renderer was created\u003C\u002Fspan\u003E\n  })\n\n  \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F Add hook for build\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-built_in\"\u003Ethis\u003C\u002Fspan\u003E.nuxt.hook(\u003Cspan class=\"hljs-string\"\u003E&#x27;build&#x27;\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-keyword\"\u003Easync\u003C\u002Fspan\u003E (builder) =&gt; {\n    \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F This will be called once when builder created\u003C\u002Fspan\u003E\n\n    \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F We can even register internal hooks here\u003C\u002Fspan\u003E\n    builder.hook(\u003Cspan class=\"hljs-string\"\u003E&#x27;compile&#x27;\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-function\"\u003E(\u003Cspan class=\"hljs-params\"\u003E{ compiler }\u003C\u002Fspan\u003E) =&gt;\u003C\u002Fspan\u003E {\n      \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F This will be run just before webpack compiler starts\u003C\u002Fspan\u003E\n    })\n  })\n\n  \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F Add hook for generate\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-built_in\"\u003Ethis\u003C\u002Fspan\u003E.nuxt.hook(\u003Cspan class=\"hljs-string\"\u003E&#x27;generate&#x27;\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-keyword\"\u003Easync\u003C\u002Fspan\u003E (generator) =&gt; {\n    \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F This will be called when a Nuxt generate starts\u003C\u002Fspan\u003E\n  })\n}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Ch2 id=\"module-package-commands\"\u003E\u003Ca class=\"anchor\" aria-hidden=\"true\" href=\"#module-package-commands\"\u003E\u003Csvg version=\"1.1\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" class=\"octicon octicon-link\" aria-hidden=\"true\"\u003E\u003Cpath fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\u002F\u003E\u003C\u002Fsvg\u003E\u003C\u002Fa\u003EModule package commands\u003C\u002Fh2\u003E\u003Cp\u003E\u003Cstrong\u003E实验性的\u003C\u002Fstrong\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E从\u003Ccode\u003Ev2.4.0\u003C\u002Fcode\u003E 开始，您可以通过Nuxt模块的包(package)添加自定义nuxt命令。为此，您必须\u003Ccode\u003ENuxtCommand\u003C\u002Fcode\u003E在定义命令时遵循API规则。假设放置的一个简单示例\u003Ccode\u003Emy-module\u002Fbin\u002Fcommand.js\u003C\u002Fcode\u003E如下所示：\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"hljs js\"\u003E\u003Cspan class=\"hljs-meta\"\u003E#!\u002Fusr\u002Fbin\u002Fenv node\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E consola = \u003Cspan class=\"hljs-built_in\"\u003Erequire\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-string\"\u003E&#x27;consola&#x27;\u003C\u002Fspan\u003E)\n\u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E { NuxtCommand } = \u003Cspan class=\"hljs-built_in\"\u003Erequire\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-string\"\u003E&#x27;@nuxt\u002Fcli&#x27;\u003C\u002Fspan\u003E)\n\nNuxtCommand.run({\n  \u003Cspan class=\"hljs-attr\"\u003Ename\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&#x27;command&#x27;\u003C\u002Fspan\u003E,\n  \u003Cspan class=\"hljs-attr\"\u003Edescription\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&#x27;My Module Command&#x27;\u003C\u002Fspan\u003E,\n  \u003Cspan class=\"hljs-attr\"\u003Eusage\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&#x27;command &lt;foobar&gt;&#x27;\u003C\u002Fspan\u003E,\n  \u003Cspan class=\"hljs-attr\"\u003Eoptions\u003C\u002Fspan\u003E: {\n    \u003Cspan class=\"hljs-attr\"\u003Efoobar\u003C\u002Fspan\u003E: {\n      \u003Cspan class=\"hljs-attr\"\u003Ealias\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&#x27;fb&#x27;\u003C\u002Fspan\u003E,\n      \u003Cspan class=\"hljs-attr\"\u003Etype\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&#x27;string&#x27;\u003C\u002Fspan\u003E,\n      \u003Cspan class=\"hljs-attr\"\u003Edescription\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&#x27;Simple test string&#x27;\u003C\u002Fspan\u003E\n    }\n  },\n  run (cmd) {\n    consola.info(cmd.argv)\n  }\n})\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003E这里有一些值得注意的事情。首先，注意调用\u003Ccode\u003E\u002Fusr\u002Fbin\u002Fenv\u003C\u002Fcode\u003E来检索Node可执行文件。另请注意，ES模块语法不能用于命令，除非您手动合并\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fstandard-things\u002Fesm\"\u003E\u003Ccode\u003Eesm\u003C\u002Fcode\u003E\u003C\u002Fa\u003E到代码中。\u003C\u002Fp\u003E\n\u003Cp\u003E接下来，您将注意到如何使用\u003Ccode\u003ENuxtCommand.run()\u003C\u002Fcode\u003E指定命令的设置和行为。定义选项\u003Ccode\u003Eoptions\u003C\u002Fcode\u003E，通过解析\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fsubstack\u002Fminimist\"\u003E\u003Ccode\u003Eminimist\u003C\u002Fcode\u003E\u003C\u002Fa\u003E。解析参数后，\u003Ccode\u003Erun()``将使用\u003C\u002Fcode\u003ENuxtCommand`实例作为第一个参数自动调用。\u003C\u002Fp\u003E\n\u003Cp\u003E在上面的示例中，\u003Ccode\u003Ecmd.argv\u003C\u002Fcode\u003E用于检索解析的命令行参数。有更多的方法和属性\u003Ccode\u003ENuxtCommand\u003C\u002Fcode\u003E --将提供有关它们的文档，因为此功能将进一步测试和改进。\u003C\u002Fp\u003E\n\u003Cp\u003E要使您的命令可以通过Nuxt CLI识别\u003Ccode\u003Ebin\u003C\u002Fcode\u003E，请使用\u003Ccode\u003Enuxt-module\u003C\u002Fcode\u003E约定将其列在\u003Ccode\u003Epackage.json\u003C\u002Fcode\u003E的部分下，该约定module与您的包名称相关。使用此二进制文件，您可以根据\u003Ccode\u003Eargv\u003C\u002Fcode\u003E需要进一步解析更多\u003Ccode\u003Esubcommands\u003C\u002Fcode\u003E命令。\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"hljs js\"\u003E{\n  \u003Cspan class=\"hljs-string\"\u003E&quot;bin&quot;\u003C\u002Fspan\u003E: {\n    \u003Cspan class=\"hljs-string\"\u003E&quot;nuxt-foobar&quot;\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&quot;.\u002Fbin\u002Fcommand.js&quot;\u003C\u002Fspan\u003E\n  }\n}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003E一旦安装了软件包(通过NPM或Yarn)，您就可以\u003Ccode\u003Enuxt foobar ...\u003C\u002Fcode\u003E在命令行上执行。\u003C\u002Fp\u003E\n\u003Cdiv class=\"Alert\"\u003E\n\n\u003Cp\u003Emodules有许多钩子和可能性。请参考 \u003Ca href=\"\u002Fapi\u002Finternals\"\u003ENuxt Internals\u003C\u002Fa\u003E 了解有关Nuxt内部API的更多信息。\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n"},contributors:[{author:"warriorBrian"},{author:"manniL"},{author:"yuxino"},{author:"iliyaZelenko"},{author:"yinxulai"},{author:"SuperLiuYinXin"},{author:"stuin"}]}],fetch:[],mutations:[]});