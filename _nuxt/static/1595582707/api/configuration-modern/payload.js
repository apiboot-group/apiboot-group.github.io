__NUXT_JSONP__("/api/configuration-modern", {data:[{},{path:"\u002Fzh\u002Fapi\u002Fconfiguration-modern",section:"api",page:{attrs:{title:"API: modern 属性",description:"Build and server a modern bundle"},body:"\u003Ch1 id=\"modern-属性\"\u003E\u003Ca class=\"anchor\" aria-hidden=\"true\" href=\"#modern-属性\"\u003E\u003Csvg version=\"1.1\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" class=\"octicon octicon-link\" aria-hidden=\"true\"\u003E\u003Cpath fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\u002F\u003E\u003C\u002Fsvg\u003E\u003C\u002Fa\u003Emodern 属性\u003C\u002Fh1\u003E\u003Cblockquote\u003E\n\u003Cp\u003E此功能的想法来自 \u003Ca href=\"https:\u002F\u002Fcli.vuejs.org\u002Fguide\u002Fbrowser-compatibility.html#modern-mode\"\u003Evue-cli modern mode\u003C\u002Fa\u003E\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003Cul\u003E\n\u003Cli\u003E类型: \u003Ccode\u003EString\u003C\u002Fcode\u003E 或 \u003Ccode\u003EBoolean\u003C\u002Fcode\u003E\u003Cul\u003E\n\u003Cli\u003E默认: false\u003C\u002Fli\u003E\n\u003Cli\u003E可能的值:\u003Cul\u003E\n\u003Cli\u003E\u003Ccode\u003E&#39;client&#39;\u003C\u002Fcode\u003E: 构建两个版本的包：同时提供面向支持现在浏览器的 ES2015+ 写法支持 \u003Ccode\u003E&lt;script type =&quot;module&quot;&gt;\u003C\u002Fcode\u003E 和兼容性低的其他旧浏览器的包 \u003Ccode\u003E&lt;script nomodule&gt;\u003C\u002Fcode\u003E 的脚本，同时为现代浏览器打包提供 \u003Ccode\u003E&lt;link rel =&quot;modulepreload&quot;&gt;\u003C\u002Fcode\u003E 。每个正确解析模块类型的现代浏览器都会加载现代浏览器软件依赖包，而旧版浏览器则会加载到指定旧版浏览器的依赖包（已编译）。\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ccode\u003E&#39;server&#39;\u003C\u002Fcode\u003E or \u003Ccode\u003Etrue\u003C\u002Fcode\u003E: Node.js服务器将根据用户代理检查浏览器版本，并提供相应的现代浏览器或兼容性低的浏览器捆绑依赖。\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ccode\u003Efalse\u003C\u002Fcode\u003E: 关闭 modern 打包\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003E捆绑打包的两个版本是:\u003C\u002Fp\u003E\n\u003Col\u003E\n\u003Cli\u003EModern bundle: 定位支持ES模块的现代浏览器\u003C\u002Fli\u003E\n\u003Cli\u003ELegacy bundle: 基于babel配置定位兼容性低浏览器（默认情况下兼容IE9）。\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Cp\u003E\u003Cstrong\u003EInfo:\u003C\u002Fstrong\u003E 在package.json中，可以使用命令选项：\u003Ccode\u003E[--modern | -m]=[mode]\u003C\u002Fcode\u003E 来指定构建并启动(\u003Ccode\u003Ebuild\u002Fstart\u003C\u002Fcode\u003E) modern属性，例如：\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"hljs json\"\u003E{\n  \u003Cspan class=\"hljs-attr\"\u003E&quot;scripts&quot;\u003C\u002Fspan\u003E: {\n    \u003Cspan class=\"hljs-attr\"\u003E&quot;build:modern&quot;\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&quot;nuxt build --modern=server&quot;\u003C\u002Fspan\u003E,\n    \u003Cspan class=\"hljs-attr\"\u003E&quot;start:modern&quot;\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&quot;nuxt start --modern=server&quot;\u003C\u002Fspan\u003E\n  }\n}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cul\u003E\n\u003Cli\u003E当未指定\u003Ccode\u003Emodern\u003C\u002Fcode\u003E时，在打包时Nuxt将自动检测\u003Ccode\u003Enuxt start\u003C\u002Fcode\u003E中的\u003Ccode\u003Emodern\u003C\u002Fcode\u003E，自动检测模式为：\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ctable\u003E\n\u003Cthead\u003E\n\u003Ctr\u003E\n\u003Cth\u003EMode\u003C\u002Fth\u003E\n\u003Cth align=\"center\"\u003EModern Mode\u003C\u002Fth\u003E\n\u003C\u002Ftr\u003E\n\u003C\u002Fthead\u003E\n\u003Ctbody\u003E\u003Ctr\u003E\n\u003Ctd\u003Euniversal\u003C\u002Ftd\u003E\n\u003Ctd align=\"center\"\u003Eserver\u003C\u002Ftd\u003E\n\u003C\u002Ftr\u003E\n\u003Ctr\u003E\n\u003Ctd\u003Espa\u003C\u002Ftd\u003E\n\u003Ctd align=\"center\"\u003Eclient\u003C\u002Ftd\u003E\n\u003C\u002Ftr\u003E\n\u003C\u002Ftbody\u003E\u003C\u002Ftable\u003E\n\u003Cul\u003E\n\u003Cli\u003E在使用\u003Ccode\u003Enuxt generate\u003C\u002Fcode\u003E时，\u003Ccode\u003Emodern mode\u003C\u002Fcode\u003E只有\u003Ccode\u003Eclient\u003C\u002Fcode\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E使用 \u003Ca href=\"\u002Fapi\u002Fconfiguration-render#crossorigin\"\u003E\u003Ccode\u003Erender.crossorigin\u003C\u002Fcode\u003E\u003C\u002Fa\u003E 在\u003Ccode\u003E&lt;link&gt;\u003C\u002Fcode\u003E 和 \u003Ccode\u003E&lt;script&gt;\u003C\u002Fcode\u003E 中设置 \u003Ccode\u003Ecrossorigin\u003C\u002Fcode\u003E 属性\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cblockquote\u003E\n\u003Cp\u003E请参阅 \u003Ca href=\"https:\u002F\u002Fphilipwalton.com\u002Farticles\u002Fdeploying-es2015-code-in-production-today\u002F\"\u003EPhillip Walton&#39;s excellent post\u003C\u002Fa\u003E 来了解更多关于modern builds信息.\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n"},contributors:[{author:"warriorBrian"},{author:"clarkdo"}]}],fetch:[],mutations:[]});