__NUXT_JSONP__("/guide/routing", {data:[{},{path:"\u002Fzh\u002Fguide\u002Frouting",section:"guide",page:{attrs:{title:"路由",description:"Nuxt.js 依据页面文件的目录结构来生成应用的路由配置， 和上世纪宇宙最强开发语言PHP创建路由的方式一样的简单。"},body:"\u003Cblockquote\u003E\n\u003Cp\u003ENuxt.js 依据 \u003Ccode\u003Epages\u003C\u002Fcode\u003E 目录结构自动生成 \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fvuejs\u002Fvue-router\"\u003Evue-router\u003C\u002Fa\u003E 模块的路由配置。\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003Cdiv class=\"Alert Alert--grey\"\u003E\n\n\u003Cp\u003E要在页面之间使用路由，我们建议使用\u003Ca href=\"\u002Fapi\u002Fcomponents-nuxt-link\"\u003E\u003Ccode\u003E&lt;nuxt-link&gt;\u003C\u002Fcode\u003E\u003C\u002Fa\u003E 标签。\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\n\u003Cp\u003E例如:\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"hljs html\"\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Etemplate\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Enuxt-link\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Eto\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E&quot;\u002F&quot;\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E首页\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Enuxt-link\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Etemplate\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Ch2 id=\"基础路由\"\u003E\u003Ca class=\"anchor\" aria-hidden=\"true\" href=\"#基础路由\"\u003E\u003Csvg version=\"1.1\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" class=\"octicon octicon-link\" aria-hidden=\"true\"\u003E\u003Cpath fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\u002F\u003E\u003C\u002Fsvg\u003E\u003C\u002Fa\u003E基础路由\u003C\u002Fh2\u003E\u003Cp\u003E假设 \u003Ccode\u003Epages\u003C\u002Fcode\u003E 的目录结构如下：\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"hljs bash\"\u003Epages\u002F\n--| user\u002F\n-----| index.vue\n-----| one.vue\n--| index.vue\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003E那么，Nuxt.js 自动生成的路由配置如下：\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"hljs js\"\u003Erouter: {\n  \u003Cspan class=\"hljs-attr\"\u003Eroutes\u003C\u002Fspan\u003E: [\n    {\n      \u003Cspan class=\"hljs-attr\"\u003Ename\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&#x27;index&#x27;\u003C\u002Fspan\u003E,\n      \u003Cspan class=\"hljs-attr\"\u003Epath\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&#x27;\u002F&#x27;\u003C\u002Fspan\u003E,\n      \u003Cspan class=\"hljs-attr\"\u003Ecomponent\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&#x27;pages\u002Findex.vue&#x27;\u003C\u002Fspan\u003E\n    },\n    {\n      \u003Cspan class=\"hljs-attr\"\u003Ename\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&#x27;user&#x27;\u003C\u002Fspan\u003E,\n      \u003Cspan class=\"hljs-attr\"\u003Epath\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&#x27;\u002Fuser&#x27;\u003C\u002Fspan\u003E,\n      \u003Cspan class=\"hljs-attr\"\u003Ecomponent\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&#x27;pages\u002Fuser\u002Findex.vue&#x27;\u003C\u002Fspan\u003E\n    },\n    {\n      \u003Cspan class=\"hljs-attr\"\u003Ename\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&#x27;user-one&#x27;\u003C\u002Fspan\u003E,\n      \u003Cspan class=\"hljs-attr\"\u003Epath\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&#x27;\u002Fuser\u002Fone&#x27;\u003C\u002Fspan\u003E,\n      \u003Cspan class=\"hljs-attr\"\u003Ecomponent\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&#x27;pages\u002Fuser\u002Fone.vue&#x27;\u003C\u002Fspan\u003E\n    }\n  ]\n}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Ch2 id=\"动态路由\"\u003E\u003Ca class=\"anchor\" aria-hidden=\"true\" href=\"#动态路由\"\u003E\u003Csvg version=\"1.1\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" class=\"octicon octicon-link\" aria-hidden=\"true\"\u003E\u003Cpath fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\u002F\u003E\u003C\u002Fsvg\u003E\u003C\u002Fa\u003E动态路由\u003C\u002Fh2\u003E\u003Cp\u003E在 Nuxt.js 里面定义带参数的动态路由，需要创建对应的\u003Cstrong\u003E以下划线作为前缀\u003C\u002Fstrong\u003E的 Vue 文件 或 目录。\u003C\u002Fp\u003E\n\u003Cdiv class=\"Promo__Video\"\u003E\n  \u003Ca href=\"https:\u002F\u002Fvueschool.io\u002Flessons\u002Fnuxtjs-dynamic-routes?friend=nuxt\" target=\"_blank\"\u003E\n    \u003Cp class=\"Promo__Video__Icon\"\u003E\n      观看Vue School出品的 \u003Cstrong\u003E动态路由\u003C\u002Fstrong\u003E 免费课程\n    \u003C\u002Fp\u003E\n  \u003C\u002Fa\u003E\n\u003C\u002Fdiv\u003E\n\n\u003Cp\u003E以下目录结构：\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"hljs bash\"\u003Epages\u002F\n--| _slug\u002F\n-----| comments.vue\n-----| index.vue\n--| users\u002F\n-----| _id.vue\n--| index.vue\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003ENuxt.js 生成对应的路由配置表为：\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"hljs js\"\u003Erouter: {\n  \u003Cspan class=\"hljs-attr\"\u003Eroutes\u003C\u002Fspan\u003E: [\n    {\n      \u003Cspan class=\"hljs-attr\"\u003Ename\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&#x27;index&#x27;\u003C\u002Fspan\u003E,\n      \u003Cspan class=\"hljs-attr\"\u003Epath\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&#x27;\u002F&#x27;\u003C\u002Fspan\u003E,\n      \u003Cspan class=\"hljs-attr\"\u003Ecomponent\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&#x27;pages\u002Findex.vue&#x27;\u003C\u002Fspan\u003E\n    },\n    {\n      \u003Cspan class=\"hljs-attr\"\u003Ename\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&#x27;users-id&#x27;\u003C\u002Fspan\u003E,\n      \u003Cspan class=\"hljs-attr\"\u003Epath\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&#x27;\u002Fusers\u002F:id?&#x27;\u003C\u002Fspan\u003E,\n      \u003Cspan class=\"hljs-attr\"\u003Ecomponent\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&#x27;pages\u002Fusers\u002F_id.vue&#x27;\u003C\u002Fspan\u003E\n    },\n    {\n      \u003Cspan class=\"hljs-attr\"\u003Ename\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&#x27;slug&#x27;\u003C\u002Fspan\u003E,\n      \u003Cspan class=\"hljs-attr\"\u003Epath\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&#x27;\u002F:slug&#x27;\u003C\u002Fspan\u003E,\n      \u003Cspan class=\"hljs-attr\"\u003Ecomponent\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&#x27;pages\u002F_slug\u002Findex.vue&#x27;\u003C\u002Fspan\u003E\n    },\n    {\n      \u003Cspan class=\"hljs-attr\"\u003Ename\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&#x27;slug-comments&#x27;\u003C\u002Fspan\u003E,\n      \u003Cspan class=\"hljs-attr\"\u003Epath\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&#x27;\u002F:slug\u002Fcomments&#x27;\u003C\u002Fspan\u003E,\n      \u003Cspan class=\"hljs-attr\"\u003Ecomponent\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&#x27;pages\u002F_slug\u002Fcomments.vue&#x27;\u003C\u002Fspan\u003E\n    }\n  ]\n}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003E你会发现名称为 \u003Ccode\u003Eusers-id\u003C\u002Fcode\u003E 的路由路径带有 \u003Ccode\u003E:id?\u003C\u002Fcode\u003E 参数，表示该路由是可选的。如果你想将它设置为必选的路由，需要在 \u003Ccode\u003Eusers\u002F_id\u003C\u002Fcode\u003E 目录内创建一个 \u003Ccode\u003Eindex.vue\u003C\u002Fcode\u003E 文件。\u003C\u002Fp\u003E\n\u003Cp\u003E：API Configuration generate\u003C\u002Fp\u003E\n\u003Cdiv class=\"Alert Alert--orange\"\u003E\n\n\u003Cp\u003E\u003Cb\u003E警告：\u003C\u002Fb\u003E\u003Ccode\u003Egenerate\u003C\u002Fcode\u003E 命令会忽略动态路由: \u003Ca href=\"\u002Fapi\u002Fconfiguration-generate#routes\"\u003EAPI Configuration generate\u003C\u002Fa\u003E\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\n\u003Ch3 id=\"路由参数校验\"\u003E\u003Ca class=\"anchor\" aria-hidden=\"true\" href=\"#路由参数校验\"\u003E\u003Csvg version=\"1.1\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" class=\"octicon octicon-link\" aria-hidden=\"true\"\u003E\u003Cpath fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\u002F\u003E\u003C\u002Fsvg\u003E\u003C\u002Fa\u003E路由参数校验\u003C\u002Fh3\u003E\u003Cp\u003ENuxt.js 可以让你在动态路由组件中定义参数校验方法。\u003C\u002Fp\u003E\n\u003Cp\u003E举个例子： \u003Ccode\u003Epages\u002Fusers\u002F_id.vue\u003C\u002Fcode\u003E\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"hljs js\"\u003E\u003Cspan class=\"hljs-keyword\"\u003Eexport\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-keyword\"\u003Edefault\u003C\u002Fspan\u003E {\n  validate ({ params }) {\n    \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F 必须是number类型\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-keyword\"\u003Ereturn\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-regexp\"\u003E\u002F^\\d+$\u002F\u003C\u002Fspan\u003E.test(params.id)\n  }\n}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003E如果校验方法返回的值不为 \u003Ccode\u003Etrue\u003C\u002Fcode\u003E或\u003Ccode\u003EPromise\u003C\u002Fcode\u003E中resolve 解析为\u003Ccode\u003Efalse\u003C\u002Fcode\u003E或抛出Error ， Nuxt.js 将自动加载显示 404 错误页面或 500 错误页面。\u003C\u002Fp\u003E\n\u003Cp\u003E想了解关于路由参数校验的信息，请参考 \u003Ca href=\"\u002Fapi\u002Fpages-validate\"\u003E页面校验API\u003C\u002Fa\u003E。\u003C\u002Fp\u003E\n\u003Ch2 id=\"嵌套路由\"\u003E\u003Ca class=\"anchor\" aria-hidden=\"true\" href=\"#嵌套路由\"\u003E\u003Csvg version=\"1.1\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" class=\"octicon octicon-link\" aria-hidden=\"true\"\u003E\u003Cpath fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\u002F\u003E\u003C\u002Fsvg\u003E\u003C\u002Fa\u003E嵌套路由\u003C\u002Fh2\u003E\u003Cp\u003E你可以通过 vue-router 的子路由创建 Nuxt.js 应用的嵌套路由。\u003C\u002Fp\u003E\n\u003Cp\u003E创建内嵌子路由，你需要添加一个 Vue 文件，同时添加一个\u003Cstrong\u003E与该文件同名\u003C\u002Fstrong\u003E的目录用来存放子视图组件。\u003C\u002Fp\u003E\n\u003Cdiv class=\"Alert Alert--orange\"\u003E\n\n\u003Cp\u003E\u003Cb\u003EWarning:\u003C\u002Fb\u003E 别忘了在父组件(\u003Ccode\u003E.vue\u003C\u002Fcode\u003E文件) 内增加 \u003Ccode\u003E&lt;nuxt-child\u002F&gt;\u003C\u002Fcode\u003E 用于显示子视图内容。\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\n\u003Cp\u003E假设文件结构如：\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"hljs bash\"\u003Epages\u002F\n--| users\u002F\n-----| _id.vue\n-----| index.vue\n--| users.vue\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003ENuxt.js 自动生成的路由配置如下：\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"hljs js\"\u003Erouter: {\n  \u003Cspan class=\"hljs-attr\"\u003Eroutes\u003C\u002Fspan\u003E: [\n    {\n      \u003Cspan class=\"hljs-attr\"\u003Epath\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&#x27;\u002Fusers&#x27;\u003C\u002Fspan\u003E,\n      \u003Cspan class=\"hljs-attr\"\u003Ecomponent\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&#x27;pages\u002Fusers.vue&#x27;\u003C\u002Fspan\u003E,\n      \u003Cspan class=\"hljs-attr\"\u003Echildren\u003C\u002Fspan\u003E: [\n        {\n          \u003Cspan class=\"hljs-attr\"\u003Epath\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&#x27;&#x27;\u003C\u002Fspan\u003E,\n          \u003Cspan class=\"hljs-attr\"\u003Ecomponent\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&#x27;pages\u002Fusers\u002Findex.vue&#x27;\u003C\u002Fspan\u003E,\n          \u003Cspan class=\"hljs-attr\"\u003Ename\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&#x27;users&#x27;\u003C\u002Fspan\u003E\n        },\n        {\n          \u003Cspan class=\"hljs-attr\"\u003Epath\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&#x27;:id&#x27;\u003C\u002Fspan\u003E,\n          \u003Cspan class=\"hljs-attr\"\u003Ecomponent\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&#x27;pages\u002Fusers\u002F_id.vue&#x27;\u003C\u002Fspan\u003E,\n          \u003Cspan class=\"hljs-attr\"\u003Ename\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&#x27;users-id&#x27;\u003C\u002Fspan\u003E\n        }\n      ]\n    }\n  ]\n}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Ch2 id=\"动态嵌套路由\"\u003E\u003Ca class=\"anchor\" aria-hidden=\"true\" href=\"#动态嵌套路由\"\u003E\u003Csvg version=\"1.1\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" class=\"octicon octicon-link\" aria-hidden=\"true\"\u003E\u003Cpath fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\u002F\u003E\u003C\u002Fsvg\u003E\u003C\u002Fa\u003E动态嵌套路由\u003C\u002Fh2\u003E\u003Cp\u003E这个应用场景比较少见，但是 Nuxt.js 仍然支持：在动态路由下配置动态子路由。\u003C\u002Fp\u003E\n\u003Cp\u003E假设文件结构如下：\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"hljs bash\"\u003Epages\u002F\n--| _category\u002F\n-----| _subCategory\u002F\n--------| _id.vue\n--------| index.vue\n-----| _subCategory.vue\n-----| index.vue\n--| _category.vue\n--| index.vue\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003ENuxt.js 自动生成的路由配置如下：\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"hljs js\"\u003Erouter: {\n  \u003Cspan class=\"hljs-attr\"\u003Eroutes\u003C\u002Fspan\u003E: [\n    {\n      \u003Cspan class=\"hljs-attr\"\u003Epath\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&#x27;\u002F&#x27;\u003C\u002Fspan\u003E,\n      \u003Cspan class=\"hljs-attr\"\u003Ecomponent\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&#x27;pages\u002Findex.vue&#x27;\u003C\u002Fspan\u003E,\n      \u003Cspan class=\"hljs-attr\"\u003Ename\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&#x27;index&#x27;\u003C\u002Fspan\u003E\n    },\n    {\n      \u003Cspan class=\"hljs-attr\"\u003Epath\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&#x27;\u002F:category&#x27;\u003C\u002Fspan\u003E,\n      \u003Cspan class=\"hljs-attr\"\u003Ecomponent\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&#x27;pages\u002F_category.vue&#x27;\u003C\u002Fspan\u003E,\n      \u003Cspan class=\"hljs-attr\"\u003Echildren\u003C\u002Fspan\u003E: [\n        {\n          \u003Cspan class=\"hljs-attr\"\u003Epath\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&#x27;&#x27;\u003C\u002Fspan\u003E,\n          \u003Cspan class=\"hljs-attr\"\u003Ecomponent\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&#x27;pages\u002F_category\u002Findex.vue&#x27;\u003C\u002Fspan\u003E,\n          \u003Cspan class=\"hljs-attr\"\u003Ename\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&#x27;category&#x27;\u003C\u002Fspan\u003E\n        },\n        {\n          \u003Cspan class=\"hljs-attr\"\u003Epath\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&#x27;:subCategory&#x27;\u003C\u002Fspan\u003E,\n          \u003Cspan class=\"hljs-attr\"\u003Ecomponent\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&#x27;pages\u002F_category\u002F_subCategory.vue&#x27;\u003C\u002Fspan\u003E,\n          \u003Cspan class=\"hljs-attr\"\u003Echildren\u003C\u002Fspan\u003E: [\n            {\n              \u003Cspan class=\"hljs-attr\"\u003Epath\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&#x27;&#x27;\u003C\u002Fspan\u003E,\n              \u003Cspan class=\"hljs-attr\"\u003Ecomponent\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&#x27;pages\u002F_category\u002F_subCategory\u002Findex.vue&#x27;\u003C\u002Fspan\u003E,\n              \u003Cspan class=\"hljs-attr\"\u003Ename\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&#x27;category-subCategory&#x27;\u003C\u002Fspan\u003E\n            },\n            {\n              \u003Cspan class=\"hljs-attr\"\u003Epath\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&#x27;:id&#x27;\u003C\u002Fspan\u003E,\n              \u003Cspan class=\"hljs-attr\"\u003Ecomponent\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&#x27;pages\u002F_category\u002F_subCategory\u002F_id.vue&#x27;\u003C\u002Fspan\u003E,\n              \u003Cspan class=\"hljs-attr\"\u003Ename\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&#x27;category-subCategory-id&#x27;\u003C\u002Fspan\u003E\n            }\n          ]\n        }\n      ]\n    }\n  ]\n}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Ch3 id=\"未知嵌套深度的动态嵌套路由\"\u003E\u003Ca class=\"anchor\" aria-hidden=\"true\" href=\"#未知嵌套深度的动态嵌套路由\"\u003E\u003Csvg version=\"1.1\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" class=\"octicon octicon-link\" aria-hidden=\"true\"\u003E\u003Cpath fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\u002F\u003E\u003C\u002Fsvg\u003E\u003C\u002Fa\u003E未知嵌套深度的动态嵌套路由\u003C\u002Fh3\u003E\u003Cp\u003E如果您不知道URL结构的深度，您可以使用\u003Ccode\u003E_.vue\u003C\u002Fcode\u003E动态匹配嵌套路径。这将处理与\u003Cem\u003E更具体\u003C\u002Fem\u003E请求不匹配的情况。\u003C\u002Fp\u003E\n\u003Cp\u003E文件结构:\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"hljs bash\"\u003Epages\u002F\n--| people\u002F\n-----| _id.vue\n-----| index.vue\n--| _.vue\n--| index.vue\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003E将处理这样的请求：\u003C\u002Fp\u003E\n\u003Ctable\u003E\n\u003Cthead\u003E\n\u003Ctr\u003E\n\u003Cth\u003EPath\u003C\u002Fth\u003E\n\u003Cth\u003EFile\u003C\u002Fth\u003E\n\u003C\u002Ftr\u003E\n\u003C\u002Fthead\u003E\n\u003Ctbody\u003E\u003Ctr\u003E\n\u003Ctd\u003E\u003Ccode\u003E\u002F\u003C\u002Fcode\u003E\u003C\u002Ftd\u003E\n\u003Ctd\u003E\u003Ccode\u003Eindex.vue\u003C\u002Fcode\u003E\u003C\u002Ftd\u003E\n\u003C\u002Ftr\u003E\n\u003Ctr\u003E\n\u003Ctd\u003E\u003Ccode\u003E\u002Fpeople\u003C\u002Fcode\u003E\u003C\u002Ftd\u003E\n\u003Ctd\u003E\u003Ccode\u003Epeople\u002Findex.vue\u003C\u002Fcode\u003E\u003C\u002Ftd\u003E\n\u003C\u002Ftr\u003E\n\u003Ctr\u003E\n\u003Ctd\u003E\u003Ccode\u003E\u002Fpeople\u002F123\u003C\u002Fcode\u003E\u003C\u002Ftd\u003E\n\u003Ctd\u003E\u003Ccode\u003Epeople\u002F_id.vue\u003C\u002Fcode\u003E\u003C\u002Ftd\u003E\n\u003C\u002Ftr\u003E\n\u003Ctr\u003E\n\u003Ctd\u003E\u003Ccode\u003E\u002Fabout\u003C\u002Fcode\u003E\u003C\u002Ftd\u003E\n\u003Ctd\u003E\u003Ccode\u003E_.vue\u003C\u002Fcode\u003E\u003C\u002Ftd\u003E\n\u003C\u002Ftr\u003E\n\u003Ctr\u003E\n\u003Ctd\u003E\u003Ccode\u003E\u002Fabout\u002Fcareers\u003C\u002Fcode\u003E\u003C\u002Ftd\u003E\n\u003Ctd\u003E\u003Ccode\u003E_.vue\u003C\u002Fcode\u003E\u003C\u002Ftd\u003E\n\u003C\u002Ftr\u003E\n\u003Ctr\u003E\n\u003Ctd\u003E\u003Ccode\u003E\u002Fabout\u002Fcareers\u002Fchicago\u003C\u002Fcode\u003E\u003C\u002Ftd\u003E\n\u003Ctd\u003E\u003Ccode\u003E_.vue\u003C\u002Fcode\u003E\u003C\u002Ftd\u003E\n\u003C\u002Ftr\u003E\n\u003C\u002Ftbody\u003E\u003C\u002Ftable\u003E\n\u003Cp\u003E\u003Cstrong\u003ENote:\u003C\u002Fstrong\u003E 处理404页面，现在符合\u003Ccode\u003E_.vue\u003C\u002Fcode\u003E页面的逻辑。 \u003Ca href=\"\u002Fguide\u002Fasync-data#handling-errors\"\u003E有关404重定向的更多信息，请点击此处\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003Ch3 id=\"命名视图\"\u003E\u003Ca class=\"anchor\" aria-hidden=\"true\" href=\"#命名视图\"\u003E\u003Csvg version=\"1.1\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" class=\"octicon octicon-link\" aria-hidden=\"true\"\u003E\u003Cpath fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\u002F\u003E\u003C\u002Fsvg\u003E\u003C\u002Fa\u003E命名视图\u003C\u002Fh3\u003E\u003Cp\u003E要渲染命名视图，您可以在\u003Ccode\u003E布局(layout) \u002F 页面(page)\u003C\u002Fcode\u003E中使用 \u003Ccode\u003E&lt;nuxt name=&quot;top&quot;\u002F&gt;\u003C\u002Fcode\u003E 或 \u003Ccode\u003E&lt;nuxt-child name=&quot;top&quot;\u002F&gt;\u003C\u002Fcode\u003E 组件。要指定页面的\u003Cstrong\u003E命名视图\u003C\u002Fstrong\u003E，我们需要在\u003Ccode\u003Enuxt.config.js\u003C\u002Fcode\u003E文件中扩展路由器配置：\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"hljs js\"\u003E\u003Cspan class=\"hljs-keyword\"\u003Eexport\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-keyword\"\u003Edefault\u003C\u002Fspan\u003E {\n  \u003Cspan class=\"hljs-attr\"\u003Erouter\u003C\u002Fspan\u003E: {\n    extendRoutes (routes, resolve) {\n      \u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E index = routes.findIndex(\u003Cspan class=\"hljs-function\"\u003E\u003Cspan class=\"hljs-params\"\u003Eroute\u003C\u002Fspan\u003E =&gt;\u003C\u002Fspan\u003E route.name === \u003Cspan class=\"hljs-string\"\u003E&#x27;main&#x27;\u003C\u002Fspan\u003E)\n      routes[index] = {\n        ...routes[index],\n        \u003Cspan class=\"hljs-attr\"\u003Ecomponents\u003C\u002Fspan\u003E: {\n          \u003Cspan class=\"hljs-attr\"\u003Edefault\u003C\u002Fspan\u003E: routes[index].component,\n          \u003Cspan class=\"hljs-attr\"\u003Etop\u003C\u002Fspan\u003E: resolve(__dirname, \u003Cspan class=\"hljs-string\"\u003E&#x27;components\u002FmainTop.vue&#x27;\u003C\u002Fspan\u003E)\n        },\n        \u003Cspan class=\"hljs-attr\"\u003EchunkNames\u003C\u002Fspan\u003E: {\n          \u003Cspan class=\"hljs-attr\"\u003Etop\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&#x27;components\u002FmainTop&#x27;\u003C\u002Fspan\u003E\n        }\n      }\n    }\n  }\n}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003E它需要使用\u003Cstrong\u003E两个属性\u003C\u002Fstrong\u003E \u003Ccode\u003Ecomponents\u003C\u002Fcode\u003E 和 \u003Ccode\u003EchunkNames\u003C\u002Fcode\u003E 扩展路由。此配置示例中的命名视图名称为 \u003Ccode\u003Etop\u003C\u002Fcode\u003E 。看一个例子:\u003Ca href=\"\u002Fexamples\u002Fnamed-views\"\u003E命名视图 例子\u003C\u002Fa\u003E。\u003C\u002Fp\u003E\n\u003Ch3 id=\"spa-fallback\"\u003E\u003Ca class=\"anchor\" aria-hidden=\"true\" href=\"#spa-fallback\"\u003E\u003Csvg version=\"1.1\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" class=\"octicon octicon-link\" aria-hidden=\"true\"\u003E\u003Cpath fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\u002F\u003E\u003C\u002Fsvg\u003E\u003C\u002Fa\u003ESPA fallback\u003C\u002Fh3\u003E\u003Cp\u003E您也可以为动态路由启用\u003Ccode\u003ESPA fallback\u003C\u002Fcode\u003E。在使用\u003Ccode\u003Emode:&#39;spa&#39;\u003C\u002Fcode\u003E模式下，Nuxt.js将输出一个与\u003Ccode\u003Eindex.html\u003C\u002Fcode\u003E相同的额外文件。如果没有文件匹配，大多数静态托管服务可以配置为使用SPA模板。生成文件不包含头信息或任何HTML，但它仍将解析并加载API中的数据。\u003C\u002Fp\u003E\n\u003Cp\u003E我们在\u003Ccode\u003Enuxt.config.js\u003C\u002Fcode\u003E文件中启用它：\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"hljs js\"\u003E\u003Cspan class=\"hljs-keyword\"\u003Eexport\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-keyword\"\u003Edefault\u003C\u002Fspan\u003E {\n  \u003Cspan class=\"hljs-attr\"\u003Egenerate\u003C\u002Fspan\u003E: {\n    \u003Cspan class=\"hljs-attr\"\u003Efallback\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-literal\"\u003Etrue\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F if you want to use &#x27;404.html&#x27;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-attr\"\u003Efallback\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&#x27;my-fallback\u002Ffile.html&#x27;\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F if your hosting needs a custom location\u003C\u002Fspan\u003E\n  }\n}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Ch4 id=\"在surge上实现\"\u003E\u003Ca class=\"anchor\" aria-hidden=\"true\" href=\"#在surge上实现\"\u003E\u003Csvg version=\"1.1\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" class=\"octicon octicon-link\" aria-hidden=\"true\"\u003E\u003Cpath fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\u002F\u003E\u003C\u002Fsvg\u003E\u003C\u002Fa\u003E在Surge上实现\u003C\u002Fh4\u003E\u003Cp\u003ESurge \u003Ca href=\"https:\u002F\u002Fsurge.sh\u002Fhelp\u002Fadding-a-custom-404-not-found-page\"\u003E可以处理\u003C\u002Fa\u003E\u003Ccode\u003E200.html\u003C\u002Fcode\u003E 和 \u003Ccode\u003E404.html\u003C\u002Fcode\u003E，\u003Ccode\u003Egenerate.fallback\u003C\u002Fcode\u003E默认设置为\u003Ccode\u003E200.html\u003C\u002Fcode\u003E，因此无需更改它。\u003C\u002Fp\u003E\n\u003Ch4 id=\"在-github-pages-和-netlify-上实现\"\u003E\u003Ca class=\"anchor\" aria-hidden=\"true\" href=\"#在-github-pages-和-netlify-上实现\"\u003E\u003Csvg version=\"1.1\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" class=\"octicon octicon-link\" aria-hidden=\"true\"\u003E\u003Cpath fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\u002F\u003E\u003C\u002Fsvg\u003E\u003C\u002Fa\u003E在 GitHub Pages 和 Netlify 上实现\u003C\u002Fh4\u003E\u003Cp\u003EGitHub Pages 和 Netlify 自动识别 \u003Ccode\u003E404.html\u003C\u002Fcode\u003E文件，所以我们需要做的就是将 \u003Ccode\u003Egenerate.fallback\u003C\u002Fcode\u003E 设置为 \u003Ccode\u003Etrue\u003C\u002Fcode\u003E！\u003C\u002Fp\u003E\n\u003Ch4 id=\"在-firebase-hosting-上实现\"\u003E\u003Ca class=\"anchor\" aria-hidden=\"true\" href=\"#在-firebase-hosting-上实现\"\u003E\u003Csvg version=\"1.1\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" class=\"octicon octicon-link\" aria-hidden=\"true\"\u003E\u003Cpath fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\u002F\u003E\u003C\u002Fsvg\u003E\u003C\u002Fa\u003E在 Firebase Hosting 上实现\u003C\u002Fh4\u003E\u003Cp\u003E要在Firebase Hosting上使用，请将 \u003Ccode\u003Egenerate.fallback\u003C\u002Fcode\u003E 配置为 \u003Ccode\u003Etrue\u003C\u002Fcode\u003E 并使用以下配置(\u003Ca href=\"https:\u002F\u002Ffirebase.google.com\u002Fdocs\u002Fhosting\u002Furl-redirects-rewrites#section-rewrites\"\u003Emore info\u003C\u002Fa\u003E)：\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"hljs json\"\u003E{\n  \u003Cspan class=\"hljs-attr\"\u003E&quot;hosting&quot;\u003C\u002Fspan\u003E: {\n    \u003Cspan class=\"hljs-attr\"\u003E&quot;public&quot;\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&quot;dist&quot;\u003C\u002Fspan\u003E,\n    \u003Cspan class=\"hljs-attr\"\u003E&quot;ignore&quot;\u003C\u002Fspan\u003E: [\n      \u003Cspan class=\"hljs-string\"\u003E&quot;firebase.json&quot;\u003C\u002Fspan\u003E,\n      \u003Cspan class=\"hljs-string\"\u003E&quot;**\u002F.*&quot;\u003C\u002Fspan\u003E,\n      \u003Cspan class=\"hljs-string\"\u003E&quot;**\u002Fnode_modules\u002F**&quot;\u003C\u002Fspan\u003E\n    ],\n    \u003Cspan class=\"hljs-attr\"\u003E&quot;rewrites&quot;\u003C\u002Fspan\u003E: [\n      {\n        \u003Cspan class=\"hljs-attr\"\u003E&quot;source&quot;\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&quot;**&quot;\u003C\u002Fspan\u003E,\n        \u003Cspan class=\"hljs-attr\"\u003E&quot;destination&quot;\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&quot;\u002F404.html&quot;\u003C\u002Fspan\u003E\n      }\n    ]\n  }\n}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Ch2 id=\"过渡动效\"\u003E\u003Ca class=\"anchor\" aria-hidden=\"true\" href=\"#过渡动效\"\u003E\u003Csvg version=\"1.1\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" class=\"octicon octicon-link\" aria-hidden=\"true\"\u003E\u003Cpath fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\u002F\u003E\u003C\u002Fsvg\u003E\u003C\u002Fa\u003E过渡动效\u003C\u002Fh2\u003E\u003Cp\u003ENuxt.js 使用 Vue.js 的\u003Ca href=\"http:\u002F\u002Fvuejs.org\u002Fv2\u002Fguide\u002Ftransitions.html#Transitioning-Single-Elements-Components\"\u003E&lt;transition&gt;\u003C\u002Fa\u003E组件来实现路由切换时的过渡动效。\u003C\u002Fp\u003E\n\u003Ch3 id=\"全局过渡动效设置\"\u003E\u003Ca class=\"anchor\" aria-hidden=\"true\" href=\"#全局过渡动效设置\"\u003E\u003Csvg version=\"1.1\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" class=\"octicon octicon-link\" aria-hidden=\"true\"\u003E\u003Cpath fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\u002F\u003E\u003C\u002Fsvg\u003E\u003C\u002Fa\u003E全局过渡动效设置\u003C\u002Fh3\u003E\u003Cdiv class=\"Alert Alert--nuxt-green\"\u003E\n\n\u003Cp\u003E\u003Cb\u003E提示 :\u003C\u002Fb\u003ENuxt.js 默认使用的过渡效果名称为 \u003Ccode\u003Epage\u003C\u002Fcode\u003E\u003C\u002Fp\u003E\n\u003C\u002Fdiv\u003E\n\n\u003Cp\u003E如果想让每一个页面的切换都有淡出 (fade) 效果，我们需要创建一个所有路由共用的 CSS 文件。所以我们可以在 \u003Ccode\u003Eassets\u002F\u003C\u002Fcode\u003E 目录下创建这个文件：\u003C\u002Fp\u003E\n\u003Cp\u003E在全局样式文件 \u003Ccode\u003Eassets\u002Fmain.css\u003C\u002Fcode\u003E 里添加一下样式：\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"hljs css\"\u003E\u003Cspan class=\"hljs-selector-class\"\u003E.page-enter-active\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-selector-class\"\u003E.page-leave-active\u003C\u002Fspan\u003E {\n  \u003Cspan class=\"hljs-attribute\"\u003Etransition\u003C\u002Fspan\u003E: opacity .\u003Cspan class=\"hljs-number\"\u003E5s\u003C\u002Fspan\u003E;\n}\n\u003Cspan class=\"hljs-selector-class\"\u003E.page-enter\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-selector-class\"\u003E.page-leave-active\u003C\u002Fspan\u003E {\n  \u003Cspan class=\"hljs-attribute\"\u003Eopacity\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E;\n}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003E然后添加到 \u003Ccode\u003Enuxt.config.js\u003C\u002Fcode\u003E 文件中：\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"hljs js\"\u003E\u003Cspan class=\"hljs-built_in\"\u003Emodule\u003C\u002Fspan\u003E.exports = {\n  \u003Cspan class=\"hljs-attr\"\u003Ecss\u003C\u002Fspan\u003E: [\n    \u003Cspan class=\"hljs-string\"\u003E&#x27;assets\u002Fmain.css&#x27;\u003C\u002Fspan\u003E\n  ]\n}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003E关于过渡效果 \u003Ccode\u003Etransition\u003C\u002Fcode\u003E 属性配置的更多信息可参看 \u003Ca href=\"\u002Fapi\u002Fpages-transition\"\u003E页面过渡效果API\u003C\u002Fa\u003E。\u003C\u002Fp\u003E\n\u003Ch3 id=\"页面过渡动效设置\"\u003E\u003Ca class=\"anchor\" aria-hidden=\"true\" href=\"#页面过渡动效设置\"\u003E\u003Csvg version=\"1.1\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" class=\"octicon octicon-link\" aria-hidden=\"true\"\u003E\u003Cpath fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\u002F\u003E\u003C\u002Fsvg\u003E\u003C\u002Fa\u003E页面过渡动效设置\u003C\u002Fh3\u003E\u003Cp\u003E如果想给某个页面自定义过渡特效的话，只要在该页面组件中配置 \u003Ccode\u003Etransition\u003C\u002Fcode\u003E 字段即可：\u003C\u002Fp\u003E\n\u003Cp\u003E在全局样式 \u003Ccode\u003Eassets\u002Fmain.css\u003C\u002Fcode\u003E 中添加一下内容：\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"hljs css\"\u003E\u003Cspan class=\"hljs-selector-class\"\u003E.test-enter-active\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-selector-class\"\u003E.test-leave-active\u003C\u002Fspan\u003E {\n  \u003Cspan class=\"hljs-attribute\"\u003Etransition\u003C\u002Fspan\u003E: opacity .\u003Cspan class=\"hljs-number\"\u003E5s\u003C\u002Fspan\u003E;\n}\n\u003Cspan class=\"hljs-selector-class\"\u003E.test-enter\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-selector-class\"\u003E.test-leave-active\u003C\u002Fspan\u003E {\n  \u003Cspan class=\"hljs-attribute\"\u003Eopacity\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E;\n}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003E然后我们将页面组件中的 \u003Ccode\u003Etransition\u003C\u002Fcode\u003E 属性的值设置为 \u003Ccode\u003Etest\u003C\u002Fcode\u003E 即可：\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"hljs js\"\u003E\u003Cspan class=\"hljs-keyword\"\u003Eexport\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-keyword\"\u003Edefault\u003C\u002Fspan\u003E {\n  \u003Cspan class=\"hljs-attr\"\u003Etransition\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&#x27;test&#x27;\u003C\u002Fspan\u003E\n}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003E关于过渡效果 \u003Ccode\u003Etransition\u003C\u002Fcode\u003E 属性配置的更多信息可参看 \u003Ca href=\"\u002Fapi\u002Fpages-transition\"\u003E页面过渡效果API\u003C\u002Fa\u003E。\u003C\u002Fp\u003E\n\u003Ch2 id=\"中间件\"\u003E\u003Ca class=\"anchor\" aria-hidden=\"true\" href=\"#中间件\"\u003E\u003Csvg version=\"1.1\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" class=\"octicon octicon-link\" aria-hidden=\"true\"\u003E\u003Cpath fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\u002F\u003E\u003C\u002Fsvg\u003E\u003C\u002Fa\u003E中间件\u003C\u002Fh2\u003E\u003Cblockquote\u003E\n\u003Cp\u003E中间件允许您定义一个自定义函数运行在一个页面或一组页面渲染之前。\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003Cp\u003E每一个中间件应放置在 \u003Ccode\u003Emiddleware\u002F\u003C\u002Fcode\u003E 目录。文件名的名称将成为中间件名称(\u003Ccode\u003Emiddleware\u002Fauth.js\u003C\u002Fcode\u003E将成为 \u003Ccode\u003Eauth\u003C\u002Fcode\u003E 中间件)。\u003C\u002Fp\u003E\n\u003Cp\u003E一个中间件接收 \u003Ca href=\"\u002Fapi#%E4%B8%8A%E4%B8%8B%E6%96%87%E5%AF%B9%E8%B1%A1\"\u003Econtext\u003C\u002Fa\u003E 作为第一个参数：\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"hljs javascript\"\u003E\u003Cspan class=\"hljs-keyword\"\u003Eexport\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-keyword\"\u003Edefault\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-function\"\u003E\u003Cspan class=\"hljs-keyword\"\u003Efunction\u003C\u002Fspan\u003E (\u003Cspan class=\"hljs-params\"\u003Econtext\u003C\u002Fspan\u003E) \u003C\u002Fspan\u003E{\n  context.userAgent = process.server ? context.req.headers[\u003Cspan class=\"hljs-string\"\u003E&#x27;user-agent&#x27;\u003C\u002Fspan\u003E] : navigator.userAgent\n}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003E中间件执行流程顺序：\u003C\u002Fp\u003E\n\u003Col\u003E\n\u003Cli\u003E\u003Ccode\u003Enuxt.config.js\u003C\u002Fcode\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E匹配布局\u003C\u002Fli\u003E\n\u003Cli\u003E匹配页面\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Cp\u003E中间件可以异步执行,只需要返回一个 \u003Ccode\u003EPromise\u003C\u002Fcode\u003E 或使用第2个 \u003Ccode\u003Ecallback\u003C\u002Fcode\u003E 作为第一个参数：\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Ccode\u003Emiddleware\u002Fstats.js\u003C\u002Fcode\u003E\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"hljs javascript\"\u003E\u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E axios \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E&#x27;axios&#x27;\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"hljs-keyword\"\u003Eexport\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-keyword\"\u003Edefault\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-function\"\u003E\u003Cspan class=\"hljs-keyword\"\u003Efunction\u003C\u002Fspan\u003E (\u003Cspan class=\"hljs-params\"\u003E{ route }\u003C\u002Fspan\u003E) \u003C\u002Fspan\u003E{\n  \u003Cspan class=\"hljs-keyword\"\u003Ereturn\u003C\u002Fspan\u003E axios.post(\u003Cspan class=\"hljs-string\"\u003E&#x27;http:\u002F\u002Fmy-stats-api.com&#x27;\u003C\u002Fspan\u003E, {\n    \u003Cspan class=\"hljs-attr\"\u003Eurl\u003C\u002Fspan\u003E: route.fullPath\n  })\n}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003E然后在你的 \u003Ccode\u003Enuxt.config.js\u003C\u002Fcode\u003E 、 layouts 或者 pages 中使用中间件:\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Ccode\u003Enuxt.config.js\u003C\u002Fcode\u003E\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"hljs javascript\"\u003E\u003Cspan class=\"hljs-built_in\"\u003Emodule\u003C\u002Fspan\u003E.exports = {\n  \u003Cspan class=\"hljs-attr\"\u003Erouter\u003C\u002Fspan\u003E: {\n    \u003Cspan class=\"hljs-attr\"\u003Emiddleware\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&#x27;stats&#x27;\u003C\u002Fspan\u003E\n  }\n}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003E现在，\u003Ccode\u003Estats\u003C\u002Fcode\u003E 中间件将在每个路由改变时被调用。\u003C\u002Fp\u003E\n\u003Cp\u003E您也可以将 middleware 添加到指定的布局或者页面:\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Ccode\u003Epages\u002Findex.vue\u003C\u002Fcode\u003E 或者 \u003Ccode\u003Elayouts\u002Fdefault.vue\u003C\u002Fcode\u003E\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode class=\"hljs js\"\u003E\u003Cspan class=\"hljs-keyword\"\u003Eexport\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-keyword\"\u003Edefault\u003C\u002Fspan\u003E {\n  \u003Cspan class=\"hljs-attr\"\u003Emiddleware\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&#x27;stats&#x27;\u003C\u002Fspan\u003E\n}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003E如果你想看到一个使用中间件的真实例子，请参阅在 GitHub 上的\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fnuxt\u002Fexample-auth0\"\u003Eexample-auth0\u003C\u002Fa\u003E。\u003C\u002Fp\u003E\n"},contributors:[{author:"warriorBrian"},{author:"manniL"},{author:"Atinux"},{author:"pi0"},{author:"alexchopin"},{author:"1353hk"}]}],fetch:[],mutations:[]});